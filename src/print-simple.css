/* PRINT SIMPLE - TEST */

/* STYLES SANS @media print - Pour forcer l'affichage */
html.printing-active,
html.printing-active * {
  background: white !important;
  color: black !important;
}

html.printing-active .navigation,
html.printing-active .app-header,
html.printing-active .btn-action {
  display: none !important;
}

html.printing-active .plan-hebdo {
  background: white !important;
  padding: 20px !important;
  border: 5px solid red !important;
}

html.printing-active .plan-hebdo h2 {
  color: black !important;
  background: yellow !important;
  padding: 20px !important;
  font-size: 24pt !important;
  border: 3px solid red !important;
}

html.printing-active .cell {
  border: 2px solid black !important;
  padding: 10px !important;
  min-height: 60px !important;
}

@media print {
  /* Page setup */
  @page {
    margin: 2cm;
    size: A4 portrait;
  }

  /* RESET COMPLET - DÃ©sactiver dark mode */
  html,
  html *,
  body,
  body * {
    background: white !important;
    background-color: white !important;
    color: black !important;
    box-shadow: none !important;
    border-color: black !important;
  }

  /* MASQUER NAVIGATION ET UI */
  .navigation,
  .app-header,
  .theme-toggle,
  .header-actions,
  .btn-action,
  .btn-export,
  .modal-overlay,
  button:not(.test) {
    display: none !important;
  }

  /* FORCER AFFICHAGE DU PLAN */
  .plan-hebdo {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    background: white !important;
  }

  .plan-hebdo h2 {
    display: block !important;
    visibility: visible !important;
    color: black !important;
    background: white !important;
    font-size: 24pt !important;
    font-weight: bold !important;
    margin-bottom: 20px !important;
    padding: 10px !important;
    border: 2px solid black !important;
  }

  /* Ajouter un titre de test visible */
  .plan-hebdo::before {
    content: "PLAN HEBDOMADAIRE TEST PRINT" !important;
    display: block !important;
    font-size: 20pt !important;
    font-weight: bold !important;
    color: red !important;
    background: yellow !important;
    padding: 10px !important;
    text-align: center !important;
    border: 3px solid red !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .plan-grid {
    display: flex !important;
    flex-direction: column !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  .grid-header,
  .grid-row {
    display: grid !important;
    grid-template-columns: 100px repeat(4, 1fr) !important;
    gap: 2px !important;
    visibility: visible !important;
  }

  .cell {
    border: 1px solid black !important;
    padding: 10px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 60px !important;
    visibility: visible !important;
  }

  .header-cell {
    background: #4A90E2 !important;
    background-color: #4A90E2 !important;
    color: white !important;
    font-weight: bold !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .day-cell {
    background: #E8F3FC !important;
    background-color: #E8F3FC !important;
    color: black !important;
    font-weight: bold !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .meal-cell {
    background: white !important;
    color: black !important;
  }

  .meal-content {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    visibility: visible !important;
  }

  .meal-name {
    display: block !important;
    visibility: visible !important;
    color: black !important;
    font-weight: bold !important;
  }

  .portions-display-print {
    display: block !important;
    visibility: visible !important;
    font-size: 9pt !important;
  }

  .meal-empty {
    display: block !important;
    visibility: visible !important;
    color: gray !important;
  }

  /* Masquer les actions */
  .meal-actions,
  .btn-consomme,
  .portions-control,
  .day-actions {
    display: none !important;
  }
}
